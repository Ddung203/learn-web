{"openapi":"3.0.0","paths":{"/health":{"get":{"operationId":"AppController_health","parameters":[],"responses":{"200":{"description":""}}}},"/api/v1/users":{"get":{"operationId":"UserController_getUsers","parameters":[{"name":"username","required":false,"in":"query","description":"Tên đăng nhập","schema":{"type":"string"}},{"name":"studentCode","required":false,"in":"query","description":"Mã sinh viên","schema":{"type":"string"}},{"name":"email","required":false,"in":"query","description":"Email","schema":{"type":"string"}},{"name":"studentClass","required":false,"in":"query","description":"Tên lớp","schema":{"type":"string"}},{"name":"phoneNumber","required":false,"in":"query","description":"Số điện thoại","schema":{"type":"string"}},{"name":"fullName","required":false,"in":"query","description":"Tên đầy đủ","schema":{"type":"string"}},{"name":"accountStatus","required":false,"in":"query","description":"Trạng thái tài khoản","schema":{"enum":["pending","active","inactive","expired"],"type":"string"}},{"name":"includeAll","required":false,"in":"query","description":"Hiển thị tất cả users (bao gồm PENDING/EXPIRED) - chỉ admin","schema":{"type":"boolean"}},{"name":"isActive","required":false,"in":"query","description":"Trạng thái hoạt động (0: không hoạt động, 1: hoạt động)","schema":{"enum":[0,1],"type":"number"}},{"name":"fields","required":false,"in":"query","description":"Trường","schema":{"type":"string"}},{"name":"page","required":false,"in":"query","description":"Trang","schema":{"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Số lượng","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/IResponse"},{"properties":{"data":{"allOf":[{"$ref":"#/components/schemas/IGetListResult"},{"properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/IGetListResult"}}}}]}}}]}}}}},"tags":["Users"]},"post":{"operationId":"UserController_createUser","summary":"Tạo user mới và gửi OTP để thiết lập tài khoản","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ICreateUser"}}}},"responses":{"201":{"description":""}},"tags":["Users"]}},"/api/v1/users/{id}":{"put":{"operationId":"UserController_updateUserPut","summary":"Cập nhật thông tin user (full update)","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IUpdateUser"}}}},"responses":{"200":{"description":""}},"tags":["Users"]},"patch":{"operationId":"UserController_updateUserPatch","summary":"Cập nhật thông tin cơ bản của user","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IBasicUserUpdate"}}}},"responses":{"200":{"description":""}},"tags":["Users"]},"delete":{"operationId":"UserController_deleteUser","summary":"Xóa user","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Users"]},"get":{"operationId":"UserController_getUserInfoById","summary":"Lấy thông tin user theo ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Users"]}},"/api/v1/users/active-stats":{"get":{"operationId":"UserController_getUserActiveStats","summary":"Thống kê số user active trong khoảng thời gian","parameters":[],"responses":{"200":{"description":""}},"tags":["Users"]}},"/api/v1/users/check-passed/{studentCode}":{"get":{"operationId":"UserController_checkUserPassed","summary":"Kiểm tra user có đậu hay không bằng mã số sinh viên (Public API)","parameters":[{"name":"studentCode","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Users"]}},"/api/v1/user-status/my-status":{"get":{"operationId":"UserStatusController_getMyStatus","summary":"Lấy trạng thái của người dùng hiện tại","parameters":[],"responses":{"200":{"description":""}},"tags":["User Status"]}},"/api/v1/user-status/check-test-permission":{"get":{"operationId":"UserStatusController_checkTestPermission","summary":"Kiểm tra quyền làm bài test của người dùng hiện tại","parameters":[],"responses":{"200":{"description":""}},"tags":["User Status"]}},"/api/v1/user-status/check-interview-permission/{userId}":{"get":{"operationId":"UserStatusController_checkInterviewPermission","summary":"Kiểm tra quyền phỏng vấn của user theo ID","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["User Status"]}},"/api/v1/user-status/leaderboard":{"get":{"operationId":"UserStatusController_getLeaderboard","summary":"Lấy bảng xếp hạng người dùng","parameters":[{"name":"limit","required":false,"in":"query","description":"Số lượng top users","schema":{"minimum":1,"maximum":1000,"default":10,"type":"number"}},{"name":"testCompletedOnly","required":false,"in":"query","description":"Chỉ lấy users đã hoàn thành test","schema":{"default":true,"type":"boolean"}}],"responses":{"200":{"description":""}},"tags":["User Status"]}},"/api/v1/user-status/statistics":{"get":{"operationId":"UserStatusController_getStatistics","summary":"Lấy thống kê tổng quan về trạng thái người dùng","parameters":[],"responses":{"200":{"description":""}},"tags":["User Status"]}},"/api/v1/user-status/list":{"get":{"operationId":"UserStatusController_getUserStatusList","summary":"Lấy danh sách trạng thái người dùng (Admin only)","parameters":[{"name":"page","required":false,"in":"query","description":"Trang hiện tại","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Số lượng mỗi trang","schema":{"minimum":1,"maximum":1000,"default":10,"type":"number"}},{"name":"status","required":false,"in":"query","description":"Trạng thái lọc","schema":{"enum":["NOT_STARTED","TAKING_TEST","TEST_COMPLETED","INTERVIEW_COMPLETED","PASSED","FAILED","PASSED_EMAIL_SENT","FAILED_EMAIL_SENT"],"type":"string"}},{"name":"userId","required":false,"in":"query","description":"Tìm kiếm theo userId","schema":{"type":"string"}},{"name":"sortBy","required":false,"in":"query","description":"Sắp xếp theo","schema":{"default":"createdAt","enum":["createdAt","updatedAt","finalScore"],"type":"string"}},{"name":"sortOrder","required":false,"in":"query","description":"Thứ tự sắp xếp","schema":{"default":"desc","enum":["asc","desc"],"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/IResponse"},{"properties":{"data":{"allOf":[{"$ref":"#/components/schemas/IGetListResult"},{"properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/IUserStatus"}}}}]}}}]}}}}},"tags":["User Status"]}},"/api/v1/user-status/{userId}":{"get":{"operationId":"UserStatusController_getUserStatus","summary":"Lấy trạng thái của người dùng theo ID (Admin only)","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["User Status"]}},"/api/v1/user-status/{userId}/result":{"put":{"operationId":"UserStatusController_updateUserResult","summary":"Cập nhật kết quả cuối cùng cho người dùng (Admin only)","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IUpdateUserResult"}}}},"responses":{"200":{"description":""}},"tags":["User Status"]}},"/api/v1/user-status/{userId}/email-sent":{"put":{"operationId":"UserStatusController_markEmailSent","summary":"Đánh dấu đã gửi email thông báo kết quả (Admin only)","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["User Status"]}},"/api/v1/auth/login":{"post":{"operationId":"AuthController_login","summary":"Đăng nhập","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ILoginRequest"}}}},"responses":{"200":{"description":""}},"tags":["Auth"]}},"/api/v1/auth/register":{"post":{"operationId":"AuthController_register","summary":"Đăng ký tài khoản","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IRegisterRequest"}}}},"responses":{"201":{"description":""}},"tags":["Auth"]}},"/api/v1/auth/refresh":{"post":{"operationId":"AuthController_refresh","summary":"Làm mới token","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IRefreshTokenRequest"}}}},"responses":{"201":{"description":""}},"tags":["Auth"]}},"/api/v1/auth/logout":{"post":{"operationId":"AuthController_logout","summary":"Đăng xuất","parameters":[],"responses":{"201":{"description":""}},"tags":["Auth"],"security":[{"bearer":[]}]}},"/api/v1/auth/change-password":{"post":{"operationId":"AuthController_changePassword","summary":"Thay đổi mật khẩu","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IChangePasswordRequest"}}}},"responses":{"201":{"description":""}},"tags":["Auth"],"security":[{"bearer":[]}]}},"/api/v1/auth/verify-otp":{"post":{"operationId":"AuthController_verifyOtp","summary":"Xác thực mã OTP","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IVerifyOtpRequest"}}}},"responses":{"201":{"description":""}},"tags":["Auth"]}},"/api/v1/auth/set-password":{"post":{"operationId":"AuthController_setPassword","summary":"Đặt mật khẩu sau khi xác thực OTP","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ISetPasswordRequest"}}}},"responses":{"201":{"description":""}},"tags":["Auth"]}},"/api/v1/auth/resend-otp":{"post":{"operationId":"AuthController_resendOtp","summary":"Gửi lại mã OTP","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IResendOtpRequest"}}}},"responses":{"201":{"description":""}},"tags":["Auth"]}},"/api/v1/auth/forgot-password":{"post":{"operationId":"AuthController_forgotPassword","summary":"Quên mật khẩu - gửi OTP về email","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IForgotPasswordRequest"}}}},"responses":{"201":{"description":""}},"tags":["Auth"]}},"/api/v1/auth/reset-password":{"post":{"operationId":"AuthController_resetPassword","summary":"Đặt lại mật khẩu với OTP","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IResetPasswordRequest"}}}},"responses":{"201":{"description":""}},"tags":["Auth"]}},"/api/v1/auth/profile":{"get":{"operationId":"AuthController_getProfile","summary":"Lấy thông tin profile","parameters":[],"responses":{"200":{"description":""}},"tags":["Auth"],"security":[{"bearer":[]}]}},"/api/v1/api-permissions":{"post":{"operationId":"ApiPermissionController_createApiPermission","summary":"Tạo API permission mới (chỉ ROOT)","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ICreateApiPermission"}}}},"responses":{"201":{"description":""}},"tags":["API Permissions"]},"get":{"operationId":"ApiPermissionController_getApiPermissions","summary":"Lấy danh sách API permissions (chỉ ROOT)","parameters":[{"name":"page","required":false,"in":"query","description":"Page number","schema":{"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Limit per page","schema":{"type":"number"}},{"name":"method","required":false,"in":"query","description":"Filter by method","schema":{"type":"string"}},{"name":"module","required":false,"in":"query","description":"Filter by module","schema":{"type":"string"}},{"name":"role","required":false,"in":"query","description":"Filter by role","schema":{"type":"string"}},{"name":"isActive","required":false,"in":"query","description":"Filter by active status (0: inactive, 1: active)","schema":{"enum":[0,1],"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/IResponse"},{"properties":{"data":{"allOf":[{"$ref":"#/components/schemas/IGetListResult"},{"properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/IApiPermission"}}}}]}}}]}}}}},"tags":["API Permissions"]}},"/api/v1/api-permissions/{id}":{"put":{"operationId":"ApiPermissionController_updateApiPermission","summary":"Cập nhật API permission (chỉ ROOT)","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IUpdateApiPermission"}}}},"responses":{"200":{"description":""}},"tags":["API Permissions"]},"delete":{"operationId":"ApiPermissionController_deleteApiPermission","summary":"Xóa API permission (chỉ ROOT)","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["API Permissions"]},"get":{"operationId":"ApiPermissionController_getApiPermissionById","summary":"Lấy API permission theo ID (chỉ ROOT)","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["API Permissions"]}},"/api/v1/api-permissions/module/{module}":{"get":{"operationId":"ApiPermissionController_getPermissionsByModule","summary":"Lấy API permissions theo module (chỉ ROOT)","parameters":[{"name":"module","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["API Permissions"]}},"/api/v1/api-permissions/bulk/{module}":{"post":{"operationId":"ApiPermissionController_createBulkPermissionsForModule","summary":"Tạo permissions cơ bản cho module (chỉ ROOT)","parameters":[{"name":"module","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"201":{"description":""}},"tags":["API Permissions"]}},"/api/v1/mapping/provinces":{"get":{"operationId":"MappingController_getProvincesForMapping","parameters":[{"name":"name","required":false,"in":"query","description":"Tên tỉnh thành (tìm kiếm)","schema":{"type":"string"}},{"name":"search","required":false,"in":"query","description":"Từ khóa tìm kiếm","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Mapping"]}},"/api/v1/mapping/home-cms/active":{"get":{"operationId":"MappingController_getActiveHomeCmsForMapping","summary":"Lấy thông tin home CMS đang active cho mapping (có cache)","parameters":[{"name":"includeExecutiveDetails","required":false,"in":"query","description":"Bao gồm thông tin chi tiết của club executive","schema":{"default":true,"type":"boolean"}},{"name":"includePhotoGallery","required":false,"in":"query","description":"Bao gồm thư viện ảnh","schema":{"default":true,"type":"boolean"}},{"name":"includeMainActivities","required":false,"in":"query","description":"Bao gồm danh sách hoạt động chính","schema":{"default":true,"type":"boolean"}}],"responses":{"200":{"description":""}},"tags":["Mapping"]}},"/api/v1/mapping/users-awaiting-interview":{"get":{"operationId":"MappingController_getUsersAwaitingInterview","summary":"Lấy danh sách active user đã làm bài test nhưng chưa được phỏng vấn","parameters":[{"name":"search","required":false,"in":"query","description":"Từ khóa tìm kiếm theo tên hoặc mã sinh viên","schema":{"type":"string"}},{"name":"limit","required":false,"in":"query","description":"Giới hạn số lượng kết quả","schema":{"default":1000,"type":"number"}}],"responses":{"200":{"description":"Danh sách users đang chờ phỏng vấn","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/IUserAwaitingInterviewItem"}}}}}},"tags":["Mapping"]}},"/api/v1/provinces":{"get":{"operationId":"ProvinceController_getProvinces","parameters":[{"name":"page","required":false,"in":"query","description":"Số trang","schema":{"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Số bản ghi trên trang","schema":{"type":"number"}},{"name":"name","required":false,"in":"query","description":"Tên tỉnh thành (tìm kiếm)","schema":{"type":"string"}},{"name":"search","required":false,"in":"query","description":"Từ khóa tìm kiếm","schema":{"type":"string"}},{"name":"isActive","required":false,"in":"query","description":"Trạng thái hoạt động (0: không hoạt động, 1: hoạt động)","schema":{"enum":[0,1],"type":"number"}},{"name":"sortBy","required":false,"in":"query","description":"Sắp xếp theo","schema":{"type":"string"}},{"name":"sortOrder","required":false,"in":"query","description":"Thứ tự sắp xếp (asc/desc)","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/IResponse"},{"properties":{"data":{"allOf":[{"$ref":"#/components/schemas/IGetListResult"},{"properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/IGetListResult"}}}}]}}}]}}}}},"tags":["Provinces"]}},"/api/v1/provinces/{id}":{"get":{"operationId":"ProvinceController_getProvinceById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Provinces"]}},"/api/v1/provinces/order/{order}":{"get":{"operationId":"ProvinceController_getProvinceByOrder","parameters":[{"name":"order","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Provinces"]}},"/api/v1/provinces/name/{name}":{"get":{"operationId":"ProvinceController_getProvinceByName","parameters":[{"name":"name","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Provinces"]}},"/api/v1/home-cms":{"get":{"operationId":"HomeCmsController_getHomeCmsList","summary":"Lấy danh sách cấu hình home CMS","parameters":[{"name":"page","required":false,"in":"query","description":"Số trang","schema":{"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Số lượng bản ghi trên trang","schema":{"default":10,"type":"number"}},{"name":"search","required":false,"in":"query","description":"Tìm kiếm theo tên câu lạc bộ","schema":{"type":"string"}},{"name":"isActive","required":false,"in":"query","description":"Lọc theo trạng thái (1: active, 0: inactive)","schema":{"enum":[0,1],"type":"number"}},{"name":"sortBy","required":false,"in":"query","description":"Sắp xếp theo trường","schema":{"default":"createdAt","type":"string"}},{"name":"sortOrder","required":false,"in":"query","description":"Thứ tự sắp xếp","schema":{"default":"desc","enum":["asc","desc"],"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/IResponse"},{"properties":{"data":{"allOf":[{"$ref":"#/components/schemas/IGetListResult"},{"properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/IGetListResult"}}}}]}}}]}}}}},"tags":["Home CMS"]},"post":{"operationId":"HomeCmsController_createHomeCms","summary":"Tạo cấu hình home CMS mới","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ICreateHomeCms"}}}},"responses":{"201":{"description":""}},"tags":["Home CMS"]}},"/api/v1/home-cms/active":{"get":{"operationId":"HomeCmsController_getActiveHomeCms","summary":"Lấy cấu hình home CMS đang active","parameters":[],"responses":{"200":{"description":""}},"tags":["Home CMS"]}},"/api/v1/home-cms/{id}":{"get":{"operationId":"HomeCmsController_getHomeCmsById","summary":"Lấy thông tin cấu hình home CMS theo ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Home CMS"]},"put":{"operationId":"HomeCmsController_updateHomeCms","summary":"Cập nhật cấu hình home CMS","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IUpdateHomeCms"}}}},"responses":{"200":{"description":""}},"tags":["Home CMS"]},"delete":{"operationId":"HomeCmsController_deleteHomeCms","summary":"Xóa cấu hình home CMS","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Home CMS"]}},"/api/v1/home-cms/{id}/activate":{"put":{"operationId":"HomeCmsController_activateHomeCms","summary":"Kích hoạt cấu hình home CMS","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Home CMS"]}},"/api/v1/home-cms/{id}/deactivate":{"put":{"operationId":"HomeCmsController_deactivateHomeCms","summary":"Vô hiệu hóa cấu hình home CMS","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Home CMS"]}},"/public/api/v1/files/{filename}":{"get":{"operationId":"FileController_downloadFile","parameters":[{"name":"filename","required":true,"in":"path","description":"Tên file cần tải","schema":{"type":"string"}}],"responses":{"200":{"description":"File được tải thành công"},"400":{"description":"Tên file không hợp lệ"},"404":{"description":"File không tồn tại"}},"tags":["Files"]}},"/api/v1/questions":{"get":{"operationId":"QuestionController_getQuestions","summary":"Lấy danh sách câu hỏi","parameters":[{"name":"page","required":false,"in":"query","description":"Trang hiện tại","schema":{"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Số lượng mỗi trang","schema":{"default":10,"type":"number"}},{"name":"search","required":false,"in":"query","description":"Từ khóa tìm kiếm","schema":{"type":"string"}},{"name":"level","required":false,"in":"query","description":"Độ khó (1-4)","schema":{"enum":[1,2,3,4],"type":"number"}},{"name":"sortBy","required":false,"in":"query","description":"Sắp xếp theo","schema":{"default":"createdAt","type":"string"}},{"name":"sortOrder","required":false,"in":"query","description":"Thứ tự sắp xếp","schema":{"default":"desc","enum":["asc","desc"],"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/IResponse"},{"properties":{"data":{"allOf":[{"$ref":"#/components/schemas/IGetListResult"},{"properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/IGetListResult"}}}}]}}}]}}}}},"tags":["Questions"]},"post":{"operationId":"QuestionController_createQuestion","summary":"Tạo câu hỏi mới","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ICreateQuestion"}}}},"responses":{"201":{"description":""}},"tags":["Questions"]}},"/api/v1/questions/random":{"get":{"operationId":"QuestionController_getRandomQuestions","summary":"Lấy câu hỏi ngẫu nhiên","parameters":[{"name":"numQuestions","required":false,"in":"query","description":"Số lượng câu hỏi muốn lấy","schema":{"default":20,"type":"number"}},{"name":"levels","required":false,"in":"query","description":"Danh sách độ khó muốn lấy (1-4)","schema":{"type":"array","items":{"type":"number","enum":[1,2,3,4]}}},{"name":"questionTypes","required":false,"in":"query","description":"Danh sách loại câu hỏi muốn lấy (1-5)","schema":{"type":"array","items":{"type":"number","enum":[1,2,3,4,5]}}}],"responses":{"200":{"description":"Danh sách câu hỏi ngẫu nhiên (không bao gồm đáp án đúng)","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/IQuestionForRandom"}}}}}},"tags":["Questions"]}},"/api/v1/questions/{id}":{"get":{"operationId":"QuestionController_getQuestionById","summary":"Lấy thông tin câu hỏi theo ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Questions"]},"put":{"operationId":"QuestionController_updateQuestion","summary":"Cập nhật câu hỏi","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IUpdateQuestion"}}}},"responses":{"200":{"description":""}},"tags":["Questions"]},"delete":{"operationId":"QuestionController_deleteQuestion","summary":"Xóa câu hỏi","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Questions"]}},"/api/v1/questions/import":{"post":{"operationId":"QuestionController_importQuestions","summary":"Import câu hỏi từ file Excel URL","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IImportQuestionFromUrl"}}}},"responses":{"201":{"description":""}},"tags":["Questions"]}},"/api/v1/exam-sessions/start-exam":{"post":{"operationId":"ExamSessionController_startExamSession","summary":"Bắt đầu làm bài (only user)","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IStartExamSession"}}}},"responses":{"201":{"description":""}},"tags":["Exam Sessions"]}},"/api/v1/exam-sessions/submit":{"post":{"operationId":"ExamSessionController_submitQuiz","summary":"Nộp bài và tính điểm","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IQuizSubmission"}}}},"responses":{"201":{"description":""}},"tags":["Exam Sessions"]}},"/api/v1/exam-sessions":{"get":{"operationId":"ExamSessionController_getExamSessions","summary":"Lấy danh sách phiên thi","parameters":[{"name":"page","required":false,"in":"query","description":"Trang (page)","schema":{"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Số lượng bản ghi mỗi trang","schema":{"type":"number"}},{"name":"userId","required":false,"in":"query","description":"ID người dùng","schema":{"type":"string"}},{"name":"sortBy","required":false,"in":"query","description":"Sắp xếp theo","schema":{"type":"string"}},{"name":"sortOrder","required":false,"in":"query","description":"Thứ tự sắp xếp","schema":{"enum":["asc","desc"],"type":"string"}},{"name":"dateFrom","required":false,"in":"query","description":"Tìm kiếm theo khoảng thời gian từ","schema":{"format":"date-time","type":"string"}},{"name":"dateTo","required":false,"in":"query","description":"Tìm kiếm theo khoảng thời gian đến","schema":{"format":"date-time","type":"string"}},{"name":"minPercentage","required":false,"in":"query","description":"Tìm kiếm theo phần trăm điểm tối thiểu","schema":{"type":"number"}},{"name":"maxPercentage","required":false,"in":"query","description":"Tìm kiếm theo phần trăm điểm tối đa","schema":{"type":"number"}},{"name":"startTimeFrom","required":false,"in":"query","description":"Tìm kiếm theo thời gian bắt đầu từ","schema":{"format":"date-time","type":"string"}},{"name":"startTimeTo","required":false,"in":"query","description":"Tìm kiếm theo thời gian bắt đầu đến","schema":{"format":"date-time","type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/IResponse"},{"properties":{"data":{"allOf":[{"$ref":"#/components/schemas/IGetListResult"},{"properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/IExamSession"}}}}]}}}]}}}}},"tags":["Exam Sessions"]}},"/api/v1/exam-sessions/my-sessions":{"get":{"operationId":"ExamSessionController_getMyExamSessions","summary":"Lấy danh sách phiên thi của người dùng hiện tại","parameters":[{"name":"limit","required":true,"in":"query","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"tags":["Exam Sessions"]}},"/api/v1/exam-sessions/my-statistics":{"get":{"operationId":"ExamSessionController_getMyStatistics","summary":"Lấy thống kê của người dùng hiện tại","parameters":[],"responses":{"200":{"description":""}},"tags":["Exam Sessions"]}},"/api/v1/exam-sessions/{id}":{"get":{"operationId":"ExamSessionController_getExamSessionById","summary":"Lấy chi tiết phiên thi theo ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Exam Sessions"]},"delete":{"operationId":"ExamSessionController_deleteExamSession","summary":"Xóa phiên thi","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Exam Sessions"]}},"/api/v1/exam-sessions/user/{userId}":{"get":{"operationId":"ExamSessionController_getUserExamSessions","summary":"Lấy danh sách phiên thi của user theo ID","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"string"}},{"name":"limit","required":true,"in":"query","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"tags":["Exam Sessions"]}},"/api/v1/exam-sessions/statistics/{userId}":{"get":{"operationId":"ExamSessionController_getUserStatistics","summary":"Lấy thống kê của user theo ID","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Exam Sessions"]}},"/api/v1/exam-sessions/interview":{"post":{"operationId":"ExamSessionController_createExamSessionInterview","summary":"Tạo đánh giá phỏng vấn cho phiên thi","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ICreateExamSessionInterview"}}}},"responses":{"201":{"description":""}},"tags":["Exam Sessions"]}},"/api/v1/exam-sessions/{id}/interview":{"put":{"operationId":"ExamSessionController_updateExamSessionInterview","summary":"Cập nhật đánh giá phỏng vấn","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IUpdateExamSessionInterview"}}}},"responses":{"200":{"description":""}},"tags":["Exam Sessions"]},"get":{"operationId":"ExamSessionController_getExamSessionInterview","summary":"Lấy thông tin phỏng vấn của phiên thi","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Exam Sessions"]}},"/api/v1/feedback":{"get":{"operationId":"FeedbackController_getFeedbacks","summary":"Lấy danh sách tất cả feedback","description":"API này dành cho admin để xem tất cả feedback từ người dùng","parameters":[{"name":"page","required":false,"in":"query","description":"Số trang (bắt đầu từ 1)","schema":{"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Số lượng items trên mỗi trang","schema":{"example":10,"type":"number"}},{"name":"fields","required":false,"in":"query","description":"Các trường cần select (ngăn cách bởi dấu cách)","schema":{"example":"_id fullName email subject status createdAt","type":"string"}},{"name":"fullName","required":false,"in":"query","description":"Tìm kiếm theo tên","schema":{"type":"string"}},{"name":"email","required":false,"in":"query","description":"Tìm kiếm theo email","schema":{"type":"string"}},{"name":"subject","required":false,"in":"query","description":"Tìm kiếm theo chủ đề","schema":{"type":"string"}},{"name":"status","required":false,"in":"query","description":"Lọc theo trạng thái feedback","schema":{"enum":["pending","reviewed","resolved"],"type":"string"}},{"name":"isActive","required":false,"in":"query","description":"Lọc theo trạng thái hoạt động (0: không hoạt động, 1: hoạt động)","schema":{"enum":[0,1],"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/IResponse"},{"properties":{"data":{"allOf":[{"$ref":"#/components/schemas/IGetListResult"},{"properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/IGetListResult"}}}}]}}}]}}}}},"tags":["Feedback"]},"post":{"operationId":"FeedbackController_createPublicFeedback","summary":"Gửi feedback mới (API công khai)","description":"API này cho phép người dùng gửi feedback mà không cần đăng nhập","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ICreateFeedback"}}}},"responses":{"201":{"description":""}},"tags":["Feedback"]}},"/api/v1/feedback/admin":{"post":{"operationId":"FeedbackController_createFeedback","summary":"Tạo feedback từ admin","description":"API này dành cho admin tạo feedback thay mặt người dùng","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ICreateFeedback"}}}},"responses":{"201":{"description":""}},"tags":["Feedback"]}},"/api/v1/feedback/{id}":{"delete":{"operationId":"FeedbackController_deleteFeedback","summary":"Xóa feedback","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Feedback"]}},"/api/v1/feedback/admin/test":{"get":{"operationId":"FeedbackController_adminTest","summary":"Smoke test cho feedback module","description":"API kiểm tra hoạt động của feedback module","parameters":[],"responses":{"200":{"description":""}},"tags":["Feedback"]}},"/api/v1/chatbot/dataset":{"post":{"operationId":"ChatbotController_upsertDataset","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IUpdateDataset"}}}},"responses":{"201":{"description":""}},"tags":["Chatbot"]},"get":{"operationId":"ChatbotController_getChatbotDataset","summary":"Lấy thông tin dataset chatbot (có cache)","parameters":[],"responses":{"200":{"description":""}},"tags":["Chatbot"]}},"/api/v1/chatbot/trigger":{"get":{"operationId":"ChatbotController_triggerUpdateDataset","summary":"Trigger update dataset chatbot","parameters":[],"responses":{"200":{"description":""}},"tags":["Chatbot"]}},"/api/v1/chatbot/ai-support":{"post":{"operationId":"ChatbotController_aiSupport","summary":"Hỏi đáp với AI","parameters":[],"responses":{"200":{"description":""}},"tags":["Chatbot"]}}},"info":{"title":"its-interview-server","description":"The its-interview-server API description","version":"1.0","contact":{}},"tags":[{"name":"its-interview-server","description":""}],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"IResponse":{"type":"object","properties":{"status":{"type":"number"},"message":{"type":"string"},"serverTime":{"type":"number"}},"required":["status","message","serverTime"]},"IGetListResult":{"type":"object","properties":{"total":{"type":"number"},"totalData":{"type":"number"},"perPage":{"type":"number"},"totalPages":{"type":"number"},"page":{"type":"number"},"pagingCounter":{"type":"number"},"hasPrevPage":{"type":"boolean"},"hasNextPage":{"type":"boolean"}},"required":["total","totalData","perPage","totalPages","page","pagingCounter","hasPrevPage","hasNextPage"]},"ICreateUser":{"type":"object","properties":{"username":{"type":"string","description":"Tên đăng nhập"},"fullName":{"type":"string","description":"Tên đầy đủ"},"password":{"type":"string","description":"Mật khẩu - Optional cho OTP flow"},"studentCode":{"type":"string","description":"Mã sinh viên"},"studentClass":{"type":"string","description":"Tên lớp"},"phoneNumber":{"type":"string","description":"Số điện thoại"},"hometown":{"type":"string","description":"Quê quán"},"email":{"type":"string","description":"Email"},"avatarImage":{"type":"string","description":"Ảnh đại diện"},"facebookLink":{"type":"string","description":"Đường dẫn Facebook"},"role":{"type":"string","description":"Role của user - Admin có thể gán role khi tạo user. Mặc định là USER (U)","enum":["A","I","U","O"],"example":"U"},"isActive":{"type":"number","description":"Trạng thái (0: không hoạt động, 1: hoạt động)","enum":[0,1]}},"required":["username","fullName","studentCode","studentClass","phoneNumber","email","facebookLink"]},"IUpdateUser":{"type":"object","properties":{"username":{"type":"string","description":"Tên đăng nhập"},"fullName":{"type":"string","description":"Tên đầy đủ"},"password":{"type":"string","description":"Mật khẩu"},"studentCode":{"type":"string","description":"Mã sinh viên"},"studentClass":{"type":"string","description":"Tên lớp"},"phoneNumber":{"type":"string","description":"Số điện thoại"},"hometown":{"type":"string","description":"Quê quán"},"email":{"type":"string","description":"Email"},"avatarImage":{"type":"string","description":"Ảnh đại diện"},"facebookLink":{"type":"string","description":"Đường dẫn Facebook"},"isActive":{"type":"number","description":"Trạng thái (0: không hoạt động, 1: hoạt động)","enum":[0,1]}}},"IBasicUserUpdate":{"type":"object","properties":{"username":{"type":"string","description":"Tên đăng nhập"},"fullName":{"type":"string","description":"Tên đầy đủ"}},"required":["username","fullName"]},"IStatusHistoryItem":{"type":"object","properties":{"status":{"type":"string","description":"Trạng thái","enum":["NOT_STARTED","TAKING_TEST","TEST_COMPLETED","INTERVIEW_COMPLETED","PASSED","FAILED","PASSED_EMAIL_SENT","FAILED_EMAIL_SENT"]},"timestamp":{"format":"date-time","type":"string","description":"Thời gian thay đổi"},"changedBy":{"type":"string","description":"Người thay đổi"},"notes":{"type":"string","description":"Ghi chú"},"metadata":{"type":"object","description":"Metadata bổ sung"}},"required":["status","timestamp"]},"IUserStatus":{"type":"object","properties":{"_id":{"type":"string","description":"ID trạng thái người dùng"},"userId":{"type":"string","description":"ID người dùng"},"currentStatus":{"type":"string","description":"Trạng thái hiện tại","enum":["NOT_STARTED","TAKING_TEST","TEST_COMPLETED","INTERVIEW_COMPLETED","PASSED","FAILED","PASSED_EMAIL_SENT","FAILED_EMAIL_SENT"]},"statusHistory":{"description":"Lịch sử thay đổi trạng thái","type":"array","items":{"$ref":"#/components/schemas/IStatusHistoryItem"}},"examSessionId":{"type":"string","description":"ID phiên thi"},"testScore":{"type":"number","description":"Điểm test"},"finalScore":{"type":"number","description":"Điểm cuối cùng"},"testStartTime":{"format":"date-time","type":"string","description":"Thời gian bắt đầu test"},"testCompletedAt":{"format":"date-time","type":"string","description":"Thời gian hoàn thành test"},"interviewCompletedAt":{"format":"date-time","type":"string","description":"Thời gian hoàn thành phỏng vấn"},"interviewerId":{"type":"string","description":"ID người phỏng vấn"},"resultNotes":{"type":"string","description":"Ghi chú kết quả"},"emailSentAt":{"format":"date-time","type":"string","description":"Thời gian gửi email"},"createdBy":{"type":"string","description":"Người tạo"},"updatedBy":{"type":"string","description":"Người cập nhật"},"createdAt":{"format":"date-time","type":"string","description":"Thời gian tạo"},"updatedAt":{"format":"date-time","type":"string","description":"Thời gian cập nhật"}},"required":["_id","userId","currentStatus","statusHistory"]},"IUpdateUserResult":{"type":"object","properties":{"resultStatus":{"type":"string","description":"Trạng thái kết quả","enum":["PASSED","FAILED"]},"resultNotes":{"type":"string","description":"Ghi chú kết quả"}},"required":["resultStatus"]},"ILoginRequest":{"type":"object","properties":{"username":{"type":"string","description":"Tên đăng nhập (có thể dùng username, email hoặc mã sinh viên)"},"password":{"type":"string","description":"Mật khẩu"}},"required":["username","password"]},"IRegisterRequest":{"type":"object","properties":{"username":{"type":"string","description":"Tên đăng nhập"},"fullName":{"type":"string","description":"Tên đầy đủ"},"studentCode":{"type":"string","description":"Mã sinh viên"},"studentClass":{"type":"string","description":"Tên lớp"},"phoneNumber":{"type":"string","description":"Số điện thoại"},"hometown":{"type":"string","description":"Quê quán"},"email":{"type":"string","description":"Email"},"avatarImage":{"type":"string","description":"Ảnh đại diện"},"facebookLink":{"type":"string","description":"Đường dẫn Facebook"}},"required":["username","fullName","studentCode","studentClass","phoneNumber","email","facebookLink"]},"IRefreshTokenRequest":{"type":"object","properties":{"refreshToken":{"type":"string","description":"Refresh token"}},"required":["refreshToken"]},"IChangePasswordRequest":{"type":"object","properties":{"oldPassword":{"type":"string","description":"Mật khẩu cũ"},"newPassword":{"type":"string","description":"Mật khẩu mới"}},"required":["oldPassword","newPassword"]},"IVerifyOtpRequest":{"type":"object","properties":{"email":{"type":"string","description":"Email để xác thực OTP"},"otpCode":{"type":"string","description":"Mã OTP cần xác thực"}},"required":["email","otpCode"]},"ISetPasswordRequest":{"type":"object","properties":{"email":{"type":"string","description":"Email của tài khoản"},"password":{"type":"string","description":"Mật khẩu mới"},"confirmPassword":{"type":"string","description":"Xác nhận mật khẩu mới"}},"required":["email","password","confirmPassword"]},"IResendOtpRequest":{"type":"object","properties":{"email":{"type":"string","description":"Email để gửi lại mã OTP"}},"required":["email"]},"IForgotPasswordRequest":{"type":"object","properties":{"email":{"type":"string","description":"Email của người dùng cần reset mật khẩu","example":"user@example.com"}},"required":["email"]},"IResetPasswordRequest":{"type":"object","properties":{"email":{"type":"string","description":"Email của người dùng","example":"user@example.com"},"otpCode":{"type":"string","description":"Mã OTP nhận được qua email","example":"123456"},"newPassword":{"type":"string","description":"Mật khẩu mới","example":"NewPassword@123"}},"required":["email","otpCode","newPassword"]},"ICreateApiPermission":{"type":"object","properties":{"method":{"type":"string","description":"HTTP Method (GET, POST, PUT, PATCH, DELETE)"},"module":{"type":"string","description":"Module name"},"path":{"type":"string","description":"API endpoint path"},"allowedRoles":{"description":"Array of roles allowed to access this endpoint","type":"array","items":{"type":"string"}},"description":{"type":"string","description":"Description of this API permission"}},"required":["method","module","path","allowedRoles"]},"IUpdateApiPermission":{"type":"object","properties":{"allowedRoles":{"description":"Array of roles allowed to access this endpoint","type":"array","items":{"type":"string"}},"description":{"type":"string","description":"Description of this API permission"},"isActive":{"type":"number","description":"Whether this permission is active (0: inactive, 1: active)","enum":[0,1]}}},"IApiPermission":{"type":"object","properties":{"_id":{"type":"string","description":"ID"},"method":{"type":"string","description":"HTTP Method (GET, POST, PUT, PATCH, DELETE)"},"module":{"type":"string","description":"Module name (extracted from /api/v1/[module_name])"},"path":{"type":"string","description":"API endpoint path"},"allowedRoles":{"description":"Array of roles allowed to access this endpoint","type":"array","items":{"type":"string"}},"description":{"type":"string","description":"Description of this API permission"},"isActive":{"type":"number","description":"Whether this permission is active (0: inactive, 1: active)","enum":[0,1]},"createdBy":{"type":"string","description":"Who created this permission"},"updatedBy":{"type":"string","description":"Who last updated this permission"},"createdAt":{"format":"date-time","type":"string","description":"Creation timestamp"},"updatedAt":{"format":"date-time","type":"string","description":"Last update timestamp"}},"required":["_id","method","module","path","allowedRoles","description","isActive","createdBy","updatedBy","createdAt","updatedAt"]},"IUserAwaitingInterviewItem":{"type":"object","properties":{"id":{"type":"string","description":"ID người dùng"},"fullName":{"type":"string","description":"Họ và tên đầy đủ"}},"required":["id","fullName"]},"IMainActivity":{"type":"object","properties":{"activityName":{"type":"string","description":"Tên hoạt động"},"activityDesc":{"type":"string","description":"Mô tả hoạt động"}},"required":["activityName","activityDesc"]},"IClubExecutive":{"type":"object","properties":{"id":{"type":"string","description":"ID thành viên"},"role":{"type":"string","description":"Vai trò"},"name":{"type":"string","description":"Họ tên"},"quote":{"type":"string","description":"Quote cá nhân"},"imgUrl":{"type":"string","description":"URL hình ảnh"},"facebookLink":{"type":"string","description":"Link Facebook"}},"required":["id","role","name","imgUrl"]},"ICreateHomeCms":{"type":"object","properties":{"clubName":{"type":"string","description":"Tên câu lạc bộ"},"clubDesc":{"type":"string","description":"Mô tả câu lạc bộ"},"mainActivityTitle":{"type":"string","description":"Tiêu đề hoạt động chính"},"mainActivityDesc":{"type":"string","description":"Mô tả hoạt động chính"},"mainActivityList":{"description":"Danh sách hoạt động chính","type":"array","items":{"$ref":"#/components/schemas/IMainActivity"}},"clubExecutiveTitle":{"type":"string","description":"Tiêu đề ban phụ trách"},"clubExecutive":{"description":"Danh sách ban phụ trách","type":"array","items":{"$ref":"#/components/schemas/IClubExecutive"}},"photoGalleryTitle":{"type":"string","description":"Tiêu đề thư viện ảnh"},"photoGalleryDesc":{"type":"string","description":"Mô tả thư viện ảnh"},"photoGalleryList":{"description":"Danh sách ảnh thư viện","type":"array","items":{"type":"string"}},"clubAddress":{"type":"string","description":"Địa chỉ câu lạc bộ"},"clubEmail":{"type":"string","description":"Email câu lạc bộ"},"clubPhone":{"type":"string","description":"Số điện thoại câu lạc bộ"},"clubRegistrationLink":{"type":"string","description":"Link đăng ký câu lạc bộ"},"clubFullLogo":{"type":"string","description":"Logo lớn câu lạc bộ"},"clubSmallLogo":{"type":"string","description":"Logo nhỏ câu lạc bộ"},"homeBannerImage":{"type":"string","description":"Ảnh banner trang chủ"},"isActive":{"type":"number","description":"Trạng thái hiệu lực (1: active, 0: inactive)","enum":[0,1]}},"required":["clubName","clubDesc","clubExecutive","clubAddress","clubEmail","clubPhone","clubFullLogo","clubSmallLogo","homeBannerImage"]},"IUpdateHomeCms":{"type":"object","properties":{"clubName":{"type":"string","description":"Tên câu lạc bộ"},"clubDesc":{"type":"string","description":"Mô tả câu lạc bộ"},"mainActivityTitle":{"type":"string","description":"Tiêu đề hoạt động chính"},"mainActivityDesc":{"type":"string","description":"Mô tả hoạt động chính"},"mainActivityList":{"description":"Danh sách hoạt động chính","type":"array","items":{"$ref":"#/components/schemas/IMainActivity"}},"clubExecutiveTitle":{"type":"string","description":"Tiêu đề ban phụ trách"},"clubExecutive":{"description":"Danh sách ban phụ trách","type":"array","items":{"$ref":"#/components/schemas/IClubExecutive"}},"photoGalleryTitle":{"type":"string","description":"Tiêu đề thư viện ảnh"},"photoGalleryDesc":{"type":"string","description":"Mô tả thư viện ảnh"},"photoGalleryList":{"description":"Danh sách ảnh thư viện","type":"array","items":{"type":"string"}},"clubAddress":{"type":"string","description":"Địa chỉ câu lạc bộ"},"clubEmail":{"type":"string","description":"Email câu lạc bộ"},"clubPhone":{"type":"string","description":"Số điện thoại câu lạc bộ"},"clubRegistrationLink":{"type":"string","description":"Link đăng ký câu lạc bộ"},"clubFullLogo":{"type":"string","description":"Logo lớn câu lạc bộ"},"clubSmallLogo":{"type":"string","description":"Logo nhỏ câu lạc bộ"},"homeBannerImage":{"type":"string","description":"Ảnh banner trang chủ"},"isActive":{"type":"number","description":"Trạng thái hiệu lực (1: active, 0: inactive)","enum":[0,1]}}},"IQuestionOption":{"type":"object","properties":{"numbering":{"type":"number","description":"Số thứ tự của lựa chọn","enum":[1,2,3,4]},"answer":{"type":"string","description":"Nội dung đáp án"}},"required":["numbering","answer"]},"IQuestionForRandom":{"type":"object","properties":{"_id":{"type":"string","description":"ID"},"imageURL":{"type":"string","description":"URL hình ảnh"},"content":{"type":"string","description":"Nội dung câu hỏi"},"options":{"description":"Các lựa chọn đáp án (tối đa 4)","type":"array","items":{"$ref":"#/components/schemas/IQuestionOption"}},"level":{"type":"number","description":"Độ khó (1-4)","enum":[1,2,3,4]},"questionType":{"type":"number","description":"Loại câu hỏi (1-5)","enum":[1,2,3,4,5]},"createdBy":{"type":"string","description":"Người tạo"},"updatedBy":{"type":"string","description":"Người cập nhật"},"createdAt":{"format":"date-time","type":"string","description":"Thời gian tạo"},"updatedAt":{"format":"date-time","type":"string","description":"Thời gian cập nhật"}},"required":["_id","content","options","level","questionType","createdBy","updatedBy","createdAt","updatedAt"]},"ICreateQuestion":{"type":"object","properties":{"imageURL":{"type":"string","description":"URL hình ảnh"},"content":{"type":"string","description":"Nội dung câu hỏi"},"options":{"description":"Các lựa chọn đáp án (2-4 lựa chọn)","type":"array","items":{"$ref":"#/components/schemas/IQuestionOption"}},"correctAnswer":{"type":"number","description":"Đáp án đúng (số thứ tự)","enum":[1,2,3,4]},"level":{"type":"number","description":"Độ khó (1-4)","enum":[1,2,3,4],"default":1},"questionType":{"type":"number","description":"Loại câu hỏi (1-5)","enum":[1,2,3,4,5],"default":1}},"required":["content","options","correctAnswer","level","questionType"]},"IUpdateQuestion":{"type":"object","properties":{"imageURL":{"type":"string","description":"URL hình ảnh"},"content":{"type":"string","description":"Nội dung câu hỏi"},"options":{"description":"Các lựa chọn đáp án (2-4 lựa chọn)","type":"array","items":{"$ref":"#/components/schemas/IQuestionOption"}},"correctAnswer":{"type":"number","description":"Đáp án đúng (số thứ tự)","enum":[1,2,3,4]},"level":{"type":"number","description":"Độ khó (1-4)","enum":[1,2,3,4]},"questionType":{"type":"number","description":"Loại câu hỏi (1-5)","enum":[1,2,3,4,5]}}},"IImportQuestionFromUrl":{"type":"object","properties":{"fileUrl":{"type":"string","description":"URL của file Excel để import câu hỏi","example":"https://firebasestorage.googleapis.com/v0/b/web-dat-ve-xe.firebasestorage.app/o/cdn%2Fquestions-import-template.xlsx?alt=media&token=f9ccc16b-e9dd-40ad-8c91-9db91105063f"}},"required":["fileUrl"]},"IStartExamSession":{"type":"object","properties":{"startTime":{"format":"date-time","type":"string","description":"Thời gian bắt đầu làm bài"}},"required":["startTime"]},"IUserAnswer":{"type":"object","properties":{"questionId":{"type":"string","description":"ID câu hỏi"},"userAnswer":{"type":"number","description":"Đáp án người dùng chọn (0 = không trả lời, 1-4 = lựa chọn)","enum":[0,1,2,3,4]},"timeSpent":{"type":"number","description":"Thời gian làm bài (giây)"}},"required":["questionId","userAnswer"]},"IQuizSubmission":{"type":"object","properties":{"examSessionId":{"type":"string","description":"ID phiên thi cần submit"},"answers":{"description":"Danh sách câu trả lời của người dùng","type":"array","items":{"$ref":"#/components/schemas/IUserAnswer"}},"totalTimeSpent":{"type":"number","description":"Tổng thời gian làm bài (giây)"}},"required":["examSessionId","answers"]},"IUserAnswerRecord":{"type":"object","properties":{"questionId":{"type":"string","description":"ID câu hỏi"},"userAnswer":{"type":"number","description":"Đáp án người dùng chọn (0 = không trả lời, 1-4 = lựa chọn)","enum":[0,1,2,3,4]},"correctAnswer":{"type":"number","description":"Đáp án đúng","enum":[1,2,3,4]},"isCorrect":{"type":"number","description":"Câu trả lời có đúng không (0: sai, 1: đúng)","enum":[0,1]},"level":{"type":"number","description":"Độ khó câu hỏi","enum":[1,2,3,4]},"points":{"type":"number","description":"Điểm nhận được"},"timeSpent":{"type":"number","description":"Thời gian làm bài (giây)"}},"required":["questionId","userAnswer","correctAnswer","isCorrect","level","points"]},"IExamSession":{"type":"object","properties":{"_id":{"type":"string","description":"ID phiên thi"},"userId":{"type":"string","description":"ID người dùng"},"startTime":{"format":"date-time","type":"string","description":"Thời gian bắt đầu làm bài"},"userAnswers":{"description":"Danh sách câu trả lời","type":"array","items":{"$ref":"#/components/schemas/IUserAnswerRecord"}},"totalQuestions":{"type":"number","description":"Tổng số câu hỏi"},"correctAnswers":{"type":"number","description":"Số câu trả lời đúng"},"incorrectAnswers":{"type":"number","description":"Số câu trả lời sai"},"skippedQuestions":{"type":"number","description":"Số câu không trả lời"},"totalScore":{"type":"number","description":"Tổng điểm"},"maxPossibleScore":{"type":"number","description":"Điểm tối đa có thể đạt được"},"percentage":{"type":"number","description":"Phần trăm điểm (%)"},"totalTimeSpent":{"type":"number","description":"Tổng thời gian làm bài (giây)"},"levelStats":{"type":"object","description":"Thống kê theo độ khó"},"interviewerId":{"type":"string","description":"ID người thực hiện phỏng vấn"},"knowledgeScore":{"type":"number","description":"Điểm phỏng vấn kiến thức (0-100)","minimum":0,"maximum":100},"attitudeScore":{"type":"number","description":"Điểm phỏng vấn thái độ (0-100)","minimum":0,"maximum":100},"interviewNotes":{"type":"string","description":"Ghi chú phỏng vấn"},"otherNotes":{"type":"string","description":"Ghi chú khác"},"interviewEndTime":{"format":"date-time","type":"string","description":"Thời gian kết thúc phỏng vấn"},"finalScore":{"type":"number","description":"Điểm cuối cùng (điểm test + điểm phỏng vấn)","minimum":0},"createdBy":{"type":"string","description":"Người tạo"},"updatedBy":{"type":"string","description":"Người cập nhật"},"createdAt":{"format":"date-time","type":"string","description":"Thời gian tạo"},"updatedAt":{"format":"date-time","type":"string","description":"Thời gian cập nhật"}},"required":["_id","userId","userAnswers","totalQuestions","correctAnswers","incorrectAnswers","skippedQuestions","totalScore","maxPossibleScore","percentage","createdBy","updatedBy","createdAt","updatedAt"]},"ICreateExamSessionInterview":{"type":"object","properties":{"examSessionId":{"type":"string","description":"ID phiên thi"},"knowledgeScore":{"type":"number","description":"Điểm phỏng vấn kiến thức (0-100)","minimum":0,"maximum":100},"attitudeScore":{"type":"number","description":"Điểm phỏng vấn thái độ (0-100)","minimum":0,"maximum":100},"interviewNotes":{"type":"string","description":"Ghi chú phỏng vấn"},"otherNotes":{"type":"string","description":"Ghi chú khác"},"interviewEndTime":{"format":"date-time","type":"string","description":"Thời gian kết thúc phỏng vấn"}},"required":["examSessionId","knowledgeScore","attitudeScore"]},"IUpdateExamSessionInterview":{"type":"object","properties":{"knowledgeScore":{"type":"number","description":"Điểm phỏng vấn kiến thức (0-100)","minimum":0,"maximum":100},"attitudeScore":{"type":"number","description":"Điểm phỏng vấn thái độ (0-100)","minimum":0,"maximum":100},"interviewNotes":{"type":"string","description":"Ghi chú phỏng vấn"},"otherNotes":{"type":"string","description":"Ghi chú khác"},"interviewEndTime":{"format":"date-time","type":"string","description":"Thời gian kết thúc phỏng vấn"}}},"ICreateFeedback":{"type":"object","properties":{"fullName":{"type":"string","description":"Tên đầy đủ của người gửi feedback","example":"Nguyễn Văn A"},"email":{"type":"string","description":"Email của người gửi feedback","example":"nguyen.vana@example.com"},"phoneNumber":{"type":"string","description":"Số điện thoại của người gửi feedback (không bắt buộc)","example":"0123456789"},"subject":{"type":"string","description":"Chủ đề của feedback","example":"Phản hồi về hệ thống phỏng vấn"},"message":{"type":"string","description":"Nội dung feedback","example":"Tôi muốn góp ý về trải nghiệm sử dụng hệ thống phỏng vấn..."}},"required":["fullName","email","subject","message"]},"IUpdateDataset":{"type":"object","properties":{"id":{"type":"string"},"dataset":{"type":"string"},"allowNew":{"type":"boolean"}},"required":["id","dataset"]}}}}